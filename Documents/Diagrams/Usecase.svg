<!DOCTYPE html>
<html>
<body>

<h2>TalkJourney Use Case Diagram</h2>

<svg width="900" height="850" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrow-solid" markerWidth="10" markerHeight="10" refX="10" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 z" fill="black" />
    </marker>
    <marker id="arrow-open" markerWidth="10" markerHeight="10" refX="10" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10" fill="none" stroke="black" stroke-width="1.5"/>
    </marker>
  </defs>

  <!-- System Boundary -->
  <rect x="150" y="20" width="730" height="810" fill="#f9f9f9" stroke="black" stroke-width="2" rx="10" ry="10"/>
  <text x="515" y="50" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">TalkJourney VR System</text>
  <path d="M150,60 L880,60" stroke="black" stroke-width="1"/>

  <!-- Actor: User -->
  <circle cx="60" cy="425" r="15" fill="white" stroke="black" stroke-width="2"/>
  <line x1="60" y1="440" x2="60" y2="490" stroke="black" stroke-width="2"/>
  <line x1="30" y1="455" x2="90" y2="455" stroke="black" stroke-width="2"/>
  <line x1="60" y1="490" x2="35" y2="530" stroke="black" stroke-width="2"/>
  <line x1="60" y1="490" x2="85" y2="530" stroke="black" stroke-width="2"/>
  <text x="60" y="555" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">User</text>
  <text x="60" y="570" font-family="Arial" font-size="12" text-anchor="middle">(Learner)</text>

  <!-- Styles -->
  <style>
    .uc-ellipse { fill: #ffffff; stroke: #000000; stroke-width: 1.5; }
    .uc-text { font-family: Arial; font-size: 12px; text-anchor: middle; dominant-baseline: middle; }
    .conn-line { stroke: black; stroke-width: 1.5; }
    .dep-line { stroke: black; stroke-width: 1.5; stroke-dasharray: 5,5; marker-end: url(#arrow-open); }
    .label-text { font-family: Arial; font-size: 10px; text-anchor: middle; fill: #444; background-color: white; }
  </style>


  <!-- === SECTION 1: SETTINGS (Top) === -->
  
  <!-- Main Settings Case -->
  <ellipse cx="300" cy="130" rx="90" ry="30" class="uc-ellipse"/>
  <text x="300" y="130" class="uc-text">Configure Settings</text>

  <!-- Sub Settings -->
  <ellipse cx="650" cy="80" rx="90" ry="25" class="uc-ellipse"/>
  <text x="650" y="70" class="uc-text">Adjust Volume</text>
  <text x="650" y="85" class="uc-text" font-size="10">(Audio Mixer)</text>

  <ellipse cx="650" cy="140" rx="90" ry="25" class="uc-ellipse"/>
  <text x="650" y="130" class="uc-text">Calibrate Height</text>
  <text x="650" y="145" class="uc-text" font-size="10">(Comfort)</text>

  <ellipse cx="650" cy="200" rx="90" ry="25" class="uc-ellipse"/>
  <text x="650" y="190" class="uc-text">Transliterator Mode</text>
  <text x="650" y="205" class="uc-text" font-size="10">(Full/Partial)</text>

  <!-- NEW: Test Microphone -->
  <ellipse cx="650" cy="260" rx="90" ry="25" class="uc-ellipse"/>
  <text x="650" y="250" class="uc-text">Test Microphone</text>
  <text x="650" y="265" class="uc-text" font-size="10">(Visual Feedback)</text>

  <!-- Extend Arrows (Sub -> Main) -->
  <path d="M560,80 L390,120" class="dep-line" />
  <path d="M560,140 L390,135" class="dep-line" />
  <path d="M565,190 L390,145" class="dep-line" />
  <path d="M565,250 L380,155" class="dep-line" />
  <text x="480" y="90" class="label-text">&lt;&lt;extend&gt;&gt;</text>
  <text x="480" y="130" class="label-text">&lt;&lt;extend&gt;&gt;</text>
  <text x="480" y="160" class="label-text">&lt;&lt;extend&gt;&gt;</text>
  <text x="480" y="200" class="label-text">&lt;&lt;extend&gt;&gt;</text>



  <!-- === SECTION 2: GAMEPLAY (Middle) === -->

  <!-- Quest Object Interaction -->
  <ellipse cx="300" cy="320" rx="95" ry="30" class="uc-ellipse"/>
  <text x="300" y="310" class="uc-text">Interact with</text>
  <text x="300" y="325" class="uc-text">Quest Object</text>

  <!-- Main Level Case -->
  <ellipse cx="300" cy="425" rx="95" ry="35" class="uc-ellipse"/>
  <text x="300" y="415" class="uc-text">Play Level</text>
  <text x="300" y="435" class="uc-text" font-size="10">(Stages 1-4)</text>

  <!-- Voice (Include) -->
  <ellipse cx="650" cy="425" rx="90" ry="30" class="uc-ellipse"/>
  <text x="650" y="420" class="uc-text">Voice Detection</text>
  <text x="650" y="435" class="uc-text" font-size="10">(Input Validation)</text>
  
  <!-- Transliterate (Extend) -->
  <ellipse cx="650" cy="345" rx="90" ry="30" class="uc-ellipse"/>
  <text x="650" y="340" class="uc-text">Use Transliterator</text>
  <text x="650" y="355" class="uc-text" font-size="10">(Visual Help)</text>

  <!-- NEW: Audio Help (Extend) -->
  <ellipse cx="650" cy="505" rx="90" ry="30" class="uc-ellipse"/>
  <text x="650" y="500" class="uc-text">Listen to Pronunciation</text>
  <text x="650" y="515" class="uc-text" font-size="10">(Audio Help)</text>

  <!-- Fallback (Extend) -->
  <ellipse cx="650" cy="585" rx="90" ry="30" class="uc-ellipse"/>
  <text x="650" y="580" class="uc-text">Manual Fallback</text>
  <text x="650" y="595" class="uc-text" font-size="10">(Bypass)</text>

  <!-- Gameplay Logic Arrows -->
  <path d="M300,350 L300,390" class="dep-line" /> <!-- Quest includes Level -->
  <text x="300" y="370" class="label-text">&lt;&lt;include&gt;&gt;</text>

  <path d="M395,425 L560,425" class="dep-line" /> <!-- Level includes Voice -->
  <text x="480" y="420" class="label-text">&lt;&lt;include&gt;&gt;</text>

  <path d="M570,355 L380,410" class="dep-line" /> <!-- Translit extends Level -->
  <text x="480" y="380" class="label-text">&lt;&lt;extend&gt;&gt;</text>

  <path d="M565,495 L390,440" class="dep-line" /> <!-- Audio extends Level -->
  <text x="480" y="465" class="label-text">&lt;&lt;extend&gt;&gt;</text>

  <path d="M565,575 L380,455" class="dep-line" /> <!-- Fallback extends Level -->
  <text x="480" y="510" class="label-text">&lt;&lt;extend&gt;&gt;</text>


  <!-- === SECTION 3: AUXILIARY (Bottom) === -->
  
  <ellipse cx="300" cy="560" rx="90" ry="30" class="uc-ellipse"/>
  <text x="300" y="560" class="uc-text">View Mini-map</text>

  <ellipse cx="300" cy="640" rx="90" ry="30" class="uc-ellipse"/>
  <text x="300" y="640" class="uc-text">Interact with Guide</text>

  <ellipse cx="300" cy="720" rx="90" ry="30" class="uc-ellipse"/>
  <text x="300" y="715" class="uc-text">View Progress</text>
  <text x="300" y="730" class="uc-text" font-size="10">(XP &amp; Badges)</text>
  
  <!-- NEW: Save System -->
  <ellipse cx="650" cy="720" rx="90" ry="30" class="uc-ellipse"/>
  <text x="650" y="715" class="uc-text">Manage Save Data</text>
  <text x="650" y="730" class="uc-text" font-size="10">(Persistence)</text>


  <!-- === ACTOR CONNECTIONS === -->
  <line x1="85" y1="425" x2="210" y2="130" class="conn-line" /> <!-- To Settings -->
  <line x1="85" y1="425" x2="205" y2="320" class="conn-line" /> <!-- To Quest Object -->
  <line x1="85" y1="425" x2="205" y2="425" class="conn-line" /> <!-- To Play Level -->
  <line x1="85" y1="425" x2="210" y2="560" class="conn-line" /> <!-- To Map -->
  <line x1="85" y1="425" x2="210" y2="640" class="conn-line" /> <!-- To Guide -->
  <line x1="85" y1="425" x2="210" y2="720" class="conn-line" /> <!-- To Progress -->
  <line x1="85" y1="425" x2="560" y2="720" class="conn-line" /> <!-- To Save Data -->

</svg>

</body>
</html>